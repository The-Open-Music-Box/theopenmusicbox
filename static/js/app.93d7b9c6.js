(function(){"use strict";var e={22:function(e,t,s){var a=s(751),r=s(641),n=s(953),o=s(33),l=s.p+"img/logo.e20e4a4f.jpg",i=s(149),c=s(407),d=s(725);const u={ASSOCIATED:"associer",IN_PROGRESS:"In progress",ARCHIVED:"Archived"};u.ASSOCIATED,u.IN_PROGRESS,u.ARCHIVED;function p(e,t){return{id:e.number,name:e.filename,status:u.IN_PROGRESS,duration:parseInt(e.duration)||0,createdAt:(new Date).toISOString(),playlistId:t,isAlbum:!1}}function m(e){return{id:parseInt(e.id)||Math.floor(1e3*Math.random()),name:e.title,files:e.tracks.map((t=>p(t,parseInt(e.id))))}}const g=[{id:"6ba7b810-9dad-11d1-80b4-00c04fd430c8",type:"playlist",idtagnfc:"04A2BEF8780000",path:"zelda sleep",title:"Zelda & Sleep",tracks:[{number:1,title:"Ocarina of Time",filename:"Zelda & Sleep - 001 Ocarina of Time [MTrZXHaXPrU].mp3",duration:"180",play_counter:0},{number:2,title:"Zelda's Lullaby",filename:"Zelda & Sleep - 002 Zelda's Lullaby [MTrZXHaXPrU].mp3",duration:"240",play_counter:0}],created_at:"2024-02-12T14:30:00Z",last_played:"2024-02-12T15:00:00Z"},{id:"7ba7b810-9dad-11d1-80b4-00c04fd430c8",type:"hook",idtagnfc:"04912ba5df6180",path:"http://homeassistant.local:8123/api/webhook/--un1U88dYVP9nhgvcGt2J1nD",created_at:"2024-02-12T14:30:00Z"}];g.reduce(((e,t)=>"playlist"===t.type?e+t.tracks.length:e),0);class v{simulateDelay(e=200,t=800){const s=Math.random()*(t-e)+e;return new Promise((e=>setTimeout(e,s)))}async getPlaylists(){return await this.simulateDelay(),g.filter((e=>"playlist"===e.type)).map((e=>m(e)))}async getAudioFiles(){await this.simulateDelay();const e=g.filter((e=>"playlist"===e.type)).flatMap((e=>e.tracks.map((t=>({id:t.number,name:t.filename,status:u.ASSOCIATED,duration:parseInt(t.duration),createdAt:(new Date).toISOString(),playlistId:parseInt(e.id),isAlbum:!1})))));return e}async uploadFile(e,t,s="1"){if(await this.simulateDelay(1e3,2e3),t?.onUploadProgress)for(let o=0;o<=100;o+=20)await this.simulateDelay(100,200),t.onUploadProgress({progress:o});const a=e instanceof File?e:e.get("file"),r=g.find((e=>"playlist"===e.type&&e.id===s));if(!r)throw new Error("Playlist not found");const n={number:r.tracks.length+1,title:a.name.split(".")[0],filename:a.name,duration:Math.floor(300*Math.random()+60).toString(),play_counter:0};return r.tracks.push(n),{id:n.number,name:n.filename,status:u.IN_PROGRESS,duration:parseInt(n.duration),createdAt:(new Date).toISOString(),playlistId:parseInt(s),isAlbum:!1}}async deleteFile(e){await this.simulateDelay();for(const t of g)if("playlist"===t.type){const s=t,a=s.tracks.findIndex((t=>t.number===e));if(-1!==a)return void s.tracks.splice(a,1)}throw new Error("File not found")}async getStats(){return await this.simulateDelay(),{battery:71,songCount:g.reduce(((e,t)=>"playlist"===t.type?e+t.tracks.length:e),0),freeSpace:24}}async checkHealth(){await this.simulateDelay();const e=Math.floor(Date.now()/1e3);return{components:{audio:{status:"ready",timestamp:e},config:{status:"ready",timestamp:e},gpio:{status:"ready",timestamp:e},ir_detector:{status:"disabled",timestamp:e},led:{status:"disabled",timestamp:e},light_sensor:{status:"disabled",timestamp:e},motor:{status:"disabled",timestamp:e},nfc:{status:"disabled",timestamp:e}},status:"healthy",timestamp:e}}async downloadFile(e,t){if(await this.simulateDelay(),t)for(let s=0;s<=100;s+=20)await this.simulateDelay(100,200),t(s);return new Blob(["mock file content"],{type:"audio/mpeg"})}downloadFileUrl(e){return`mock://download/${e}`}async getUploadSessionId(){await this.simulateDelay();const e=new Uint16Array(8);return crypto.getRandomValues(e),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t,s){const a=1+(15&e[s%8]),r="x"===t?a:3&a|8;return r.toString(16)}))}}var k=new v,f=s(335);const h=f.A.create({baseURL:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL,timeout:6e4,headers:{Accept:"application/json","Content-Type":"application/json"}}),y=new Map,x={requestCount:0,errorCount:0,averageResponseTime:0},b=async(e,t=3,s=1e3)=>{const a=e.config;return a&&t?(await new Promise((e=>setTimeout(e,s))),h(a)):Promise.reject(e)};h.interceptors.request.use((e=>(e.metadata={start:Date.now()},e))),h.interceptors.response.use((e=>{const t=Date.now()-(e.config.metadata?.start||0);return x.requestCount++,x.averageResponseTime=(x.averageResponseTime*(x.requestCount-1)+t)/x.requestCount,e}),(async e=>{if(x.errorCount++,e.response?.status&&e.response.status>=500)try{return await b(e)}catch(t){return Promise.reject(t)}return Promise.reject(e)}));class w{async getAudioFiles(){const e="audio_files";if(y.has(e))return y.get(e);try{console.log("Fetching audio files from API...");const t=await h.get("/api/nfc_mapping");console.log("Audio files response:",t.data);const s=t.data;return console.log("Playlists transformées:",s),y.set(e,s),s}catch(t){const e=t;throw console.error("Error fetching audio files:",{response:e.response?.data,status:e.response?.status,headers:e.response?.headers}),401===e.response?.status||e.response,e}}async uploadFile(e,t){const s=e instanceof File?(()=>{const t=new FormData;return t.append("file",e),t})():e;try{const e=await h.post("api/upload",s,{headers:{"Content-Type":"multipart/form-data",...t?.headers},onUploadProgress:t?.onUploadProgress});return e.data}catch(a){throw console.error("Error uploading file:",a),a}}async deleteFile(e){try{const t=await h.post("/api/remove_file",{id:e});return t.data}catch(t){throw console.error("Error deleting file:",t),t}}async getStats(){try{const e=await h.get("api/stats");return e.data}catch(e){throw console.error("Error fetching stats:",e),e}}async checkHealth(){try{console.log("Fetching health status...");const e=await h.get("/api/health");return console.log("Health response:",e),e.data}catch(e){const t=e;throw console.error("Error fetching health status:",{response:t.response?.data,status:t.response?.status,headers:t.response?.headers}),t}}async downloadFile(e,t){try{const s=await h.get(`/api/audio/download/${e}`,{responseType:"blob",onDownloadProgress:e=>{if(t&&e.total){const s=Math.round(100*e.loaded/e.total);t(s)}}});return s.data}catch(s){throw console.error("Error downloading file:",s),s}}downloadFileUrl(e){return`${h.defaults.baseURL}/api/audio/download/${e}`}async getUploadSessionId(){try{const e=await h.post("/api/upload/session");return e.data.sessionId}catch(e){throw console.error("Error getting upload session:",e),e}}}var L=new w;const C="true"==={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_USE_MOCK,_={async checkHealth(){return C?k.checkHealth():L.checkHealth()},getPlaylists(){return C?k.getAudioFiles():L.getAudioFiles()},uploadFile(e,t){return C?k.uploadFile(e,t):L.uploadFile(e,t)},deleteFile(e){return C?k.deleteFile(e):L.deleteFile(e)},getStats(){return C?k.getStats():L.getStats()},downloadFile(e,t){return C?k.downloadFile(e,t):L.downloadFile(e,t)},downloadFileUrl(e){return C?k.downloadFileUrl(e):L.downloadFileUrl(e)},getUploadSessionId(){return C?k.getUploadSessionId():L.getUploadSessionId()}};var S=_;const E=e=>((0,r.Qi)("data-v-8c7fa1aa"),e=e(),(0,r.jt)(),e),F={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},R={class:"border-b border-gray-700"},A={class:"flex h-16 items-center justify-between px-4 sm:px-0"},P={class:"flex items-center"},T=E((()=>(0,r.Lk)("div",{class:"flex-shrink-0"},[(0,r.Lk)("img",{class:"h-10 w-10",src:l,alt:"The Music Box"})],-1))),I={class:"hidden md:block"},M={class:"ml-10 flex items-baseline space-x-8"},U={class:"-mr-2 flex md:hidden"},X=E((()=>(0,r.Lk)("span",{class:"absolute -inset-0.5"},null,-1))),j=E((()=>(0,r.Lk)("span",{class:"sr-only"},"Open main menu",-1))),D={class:"space-y-1 px-2 py-3 sm:px-3"};var $={__name:"HeaderNavigation",setup(e){const t=(0,n.KR)([{name:"Home",href:"/",current:!0},{name:"About",href:"/about",current:!1},{name:"Contact",href:"/contact",current:!1}]),s=async()=>{try{const e=await S.checkHealth();console.log("Backend connection successful:",e)}catch(e){console.error("Backend connection error:",e)}};return(0,r.sV)((()=>{s()})),(e,s)=>{const a=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.Wv)((0,n.R1)(i.EN),{as:"nav",class:"bg-gray-800"},{default:(0,r.k6)((({open:e})=>[(0,r.Lk)("div",F,[(0,r.Lk)("div",R,[(0,r.Lk)("div",A,[(0,r.Lk)("div",P,[T,(0,r.Lk)("div",I,[(0,r.Lk)("div",M,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.value,(e=>((0,r.uX)(),(0,r.Wv)(a,{key:e.name,to:e.href,class:(0,o.C4)([e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":e.current?"page":void 0},{default:(0,r.k6)((()=>[(0,r.eW)((0,o.v_)(e.name),1)])),_:2},1032,["to","class","aria-current"])))),128))])])]),(0,r.Lk)("div",U,[(0,r.bF)((0,n.R1)(i._q),{class:"relative inline-flex items-center justify-center rounded-md bg-gray-800 p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"},{default:(0,r.k6)((()=>[X,j,e?((0,r.uX)(),(0,r.Wv)((0,n.R1)(d.A),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):((0,r.uX)(),(0,r.Wv)((0,n.R1)(c.A),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))])),_:2},1024)])])])]),(0,r.bF)((0,n.R1)(i.kS),{class:"border-b border-gray-700 md:hidden"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",D,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.value,(e=>((0,r.uX)(),(0,r.Wv)(a,{key:e.name,to:e.href,class:(0,o.C4)([e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":e.current?"page":void 0},{default:(0,r.k6)((()=>[(0,r.eW)((0,o.v_)(e.name),1)])),_:2},1032,["to","class","aria-current"])))),128))])])),_:1})])),_:1})}}},O=s(262);const K=(0,O.A)($,[["__scopeId","data-v-8c7fa1aa"]]);var H=K;const B={class:"min-h-full"},N={id:"app"},V={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert"},W=(0,r.Lk)("strong",{class:"font-bold"},"Socket Connection Error!",-1),Z=(0,r.Lk)("span",{class:"block sm:inline"}," Unable to connect to the server. Using mock data instead.",-1),Q=[W,Z];var q={__name:"App",setup(e){const{proxy:t}=(0,r.nI)(),s=(0,n.KR)(!1),a=()=>{try{t.$socketService.emit("message","Hello, server!"),console.log("Sent message to server")}catch(e){console.error("Error sending message:",e),s.value=!0}},o=()=>{t.$socketService.on("response",(e=>{console.log("Received response from server:",e)})),t.$socketService.on("connect_error",(e=>{console.error("Socket connection error:",e),s.value=!0}))};return(0,r.sV)((()=>{console.log("Component mounted"),o()})),(0,r.hi)((()=>{t.$socketService.disconnect&&t.$socketService.disconnect()})),(e,t)=>{const n=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",B,[(0,r.bF)(H),(0,r.bF)(n)]),(0,r.Lk)("div",N,[s.value?((0,r.uX)(),(0,r.CE)("div",V,Q)):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:a},"Send Message")])],64)}}};const z=q;var G=z,J=s(723);(0,J.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Y=s(220);const ee={class:"flex flex-col items-center space-y-2"},te={class:"text-xl font-semibold text-gray-900 dark:text-white"},se={class:"text-sm text-gray-500 dark:text-gray-400"},ae={class:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400"};var re=(0,r.pM)({__name:"TrackInfo",props:{track:{}},setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",ee,[(0,r.Lk)("h2",te,(0,o.v_)(e.track?.title||"Aucun morceau sélectionné"),1),(0,r.Lk)("p",se,(0,o.v_)(e.track?.filename||""),1),(0,r.Lk)("div",ae,[(0,r.Lk)("span",null,"Durée: "+(0,o.v_)(e.track?.duration||"00:00"),1),(0,r.Lk)("span",null,"Lectures: "+(0,o.v_)(e.track?.play_counter||0),1)])]))}});const ne=re;var oe=ne;const le={class:"space-y-2"},ie={class:"relative"},ce={class:"bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden"},de=["aria-valuenow","aria-valuemax"],ue=(0,r.Lk)("div",{class:"w-4 h-4 flex items-center justify-center bg-white rounded-full shadow"},[(0,r.Lk)("div",{class:"w-1.5 h-1.5 bg-cyan-500 dark:bg-cyan-400 rounded-full ring-1 ring-inset ring-slate-900/5"})],-1),pe=[ue],me={class:"flex justify-between text-sm leading-6 font-medium tabular-nums"},ge={class:"text-cyan-500 dark:text-slate-100"},ve={class:"text-slate-500 dark:text-slate-400"};var ke=(0,r.pM)({__name:"ProgressBar",props:{currentTime:{},duration:{}},setup(e){const t=e,s=(0,r.EW)((()=>t.currentTime/t.duration*100)),a=e=>{const t=Math.floor(e/60),s=Math.floor(e%60).toString().padStart(2,"0");return`${t}:${s}`};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",le,[(0,r.Lk)("div",ie,[(0,r.Lk)("div",ce,[(0,r.Lk)("div",{class:"bg-cyan-500 dark:bg-cyan-400 h-2",style:(0,o.Tr)({width:`${s.value}%`}),role:"progressbar","aria-label":"music progress","aria-valuenow":e.currentTime,"aria-valuemin":0,"aria-valuemax":e.duration},null,12,de)]),(0,r.Lk)("div",{class:"absolute top-1/2 transform -translate-y-1/2",style:(0,o.Tr)({left:`${s.value}%`})},pe,4)]),(0,r.Lk)("div",me,[(0,r.Lk)("div",ge,(0,o.v_)(a(e.currentTime)),1),(0,r.Lk)("div",ve,(0,o.v_)(a(e.duration)),1)])]))}});const fe=ke;var he=fe;const ye={class:"flex items-center justify-evenly"},xe=(0,r.Lk)("svg",{width:"24",height:"24",fill:"none"},[(0,r.Lk)("path",{d:"m10 12 8-6v12l-8-6Z",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.Lk)("path",{d:"M6 6v12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),be=[xe],we=(0,r.Lk)("svg",{width:"24",height:"24",fill:"none"},[(0,r.Lk)("path",{d:"M6.492 16.95c2.861 2.733 7.5 2.733 10.362 0 2.861-2.734 2.861-7.166 0-9.9-2.862-2.733-7.501-2.733-10.362 0A7.096 7.096 0 0 0 5.5 8.226",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.Lk)("path",{d:"M5 5v3.111c0 .491.398.889.889.889H9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Le=[we],Ce={key:0,width:"30",height:"32",fill:"currentColor"},_e=(0,r.Lk)("rect",{x:"6",y:"4",width:"4",height:"24",rx:"2"},null,-1),Se=(0,r.Lk)("rect",{x:"20",y:"4",width:"4",height:"24",rx:"2"},null,-1),Ee=[_e,Se],Fe={key:1,width:"30",height:"32",fill:"currentColor"},Re=(0,r.Lk)("polygon",{points:"5,3 25,16 5,29"},null,-1),Ae=[Re],Pe=(0,r.Lk)("svg",{width:"24",height:"24",fill:"none"},[(0,r.Lk)("path",{d:"M17.509 16.95c-2.862 2.733-7.501 2.733-10.363 0-2.861-2.734-2.861-7.166 0-9.9 2.862-2.733 7.501-2.733 10.363 0 .38.365.711.759.991 1.176",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.Lk)("path",{d:"M19 5v3.111c0 .491-.398.889-.889.889H15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Te=[Pe],Ie=(0,r.Lk)("svg",{width:"24",height:"24",fill:"none"},[(0,r.Lk)("path",{d:"M14 12 6 6v12l8-6Z",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.Lk)("path",{d:"M18 6v12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Me=[Ie];var Ue=(0,r.pM)({__name:"PlaybackControls",props:{isPlaying:{type:Boolean}},emits:["togglePlayPause","previous","next","rewind","skip"],setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",ye,[(0,r.Lk)("button",{type:"button",class:"hidden sm:block lg:hidden xl:block","aria-label":"Previous",onClick:t[0]||(t[0]=t=>e.$emit("previous"))},be),(0,r.Lk)("button",{type:"button","aria-label":"Rewind 10 seconds",onClick:t[1]||(t[1]=t=>e.$emit("rewind"))},Le),(0,r.Lk)("button",{type:"button",class:"bg-white text-slate-900 dark:bg-slate-100 dark:text-slate-700 flex-none -my-2 mx-auto w-20 h-20 rounded-full ring-1 ring-slate-900/5 shadow-md flex items-center justify-center","aria-label":"Play/Pause",onClick:t[2]||(t[2]=t=>e.$emit("togglePlayPause"))},[e.isPlaying?((0,r.uX)(),(0,r.CE)("svg",Ce,Ee)):((0,r.uX)(),(0,r.CE)("svg",Fe,Ae))]),(0,r.Lk)("button",{type:"button","aria-label":"Skip 10 seconds",onClick:t[3]||(t[3]=t=>e.$emit("skip"))},Te),(0,r.Lk)("button",{type:"button",class:"hidden sm:block lg:hidden xl:block","aria-label":"Next",onClick:t[4]||(t[4]=t=>e.$emit("next"))},Me)]))}});const Xe=Ue;var je=Xe;const De={class:"flex items-center justify-center"},$e={class:"w-2/3"},Oe={class:"bg-white border-slate-100 dark:bg-slate-800 dark:border-slate-500 border-b rounded-t-xl p-4 pb-6 sm:p-10 sm:pb-8 lg:p-6 xl:p-10 xl:pb-8 space-y-6 sm:space-y-8 lg:space-y-6 xl:space-y-8 items-center"},Ke={class:"bg-slate-50 text-slate-500 dark:bg-slate-600 dark:text-slate-200 rounded-b-xl flex items-center"},He=["src"];var Be=(0,r.pM)({__name:"AudioPlayer",props:{selectedTrack:{default:null},playlist:{default:null}},setup(e){const t=e,s=(0,n.KR)(!1),a=(0,n.KR)(0),o=(0,n.KR)(0),l=(0,n.KR)(null),i=(0,n.KR)(null),c=(0,n.KR)("");(0,r.wB)((()=>t.selectedTrack),(async e=>{e&&(l.value=e,c.value=S.downloadFileUrl(e.number),i.value&&(await i.value.load(),await i.value.play(),s.value=!0))}),{immediate:!0});const d=async()=>{if(i.value&&l.value)try{s.value?await i.value.pause():await i.value.play(),s.value=!s.value}catch(e){console.error("Erreur lors de la lecture:",e)}},u=()=>{i.value&&(a.value=i.value.currentTime)},p=()=>{i.value&&(o.value=i.value.duration)},m=e=>{i.value&&(i.value.currentTime=e,a.value=e)},g=()=>{s.value=!1,a.value=0,x()},v=e=>{console.error("Erreur de lecture audio:",e),s.value=!1},k=()=>{m(Math.max(0,a.value-10))},f=()=>{m(Math.min(o.value,a.value+10))},h=e=>{if(!t.playlist||!l.value)return null;const s=t.playlist.tracks.findIndex((e=>e.number===l.value?.number));if(-1===s)return null;const a="next"===e?s+1:s-1;return t.playlist.tracks[a]||null},y=()=>{const e=h("previous");e&&(l.value=e,c.value=S.downloadFileUrl(e.number))},x=()=>{const e=h("next");e&&(l.value=e,c.value=S.downloadFileUrl(e.number))};return(0,r.hi)((()=>{i.value&&(i.value.pause(),i.value.src="")})),(e,t)=>((0,r.uX)(),(0,r.CE)("div",De,[(0,r.Lk)("div",$e,[(0,r.Lk)("div",Oe,[(0,r.bF)(oe,{track:l.value||void 0},null,8,["track"]),(0,r.bF)(he,{currentTime:a.value,duration:o.value,onSeek:m},null,8,["currentTime","duration"])]),(0,r.Lk)("div",Ke,[(0,r.bF)(je,{isPlaying:s.value,onTogglePlayPause:d,onPrevious:y,onNext:x,onRewind:k,onSkip:f},null,8,["isPlaying"])])]),(0,r.Lk)("audio",{ref_key:"audioPlayer",ref:i,src:c.value,onEnded:g,onTimeupdate:u,onLoadedmetadata:p,onError:v},null,40,He)]))}});const Ne=Be;var Ve=Ne;const We=52428800,Ze=["image/jpeg","image/png","application/pdf"];function Qe(){const e=(0,n.KR)([]),t=async t=>{e.value=[];const s=[];for(const r of t)if(Ze.includes(r.type))if(r.size>We)e.value.push(`${r.name}: File too large (max 50MB)`);else if(r.name.includes("..")||r.name.includes("/"))e.value.push(`${r.name}: Invalid file name`);else{try{const t=await qe(r);if(!t){e.value.push(`${r.name}: Invalid file content`);continue}}catch(a){e.value.push(`${r.name}: Validation error`);continue}s.push(r)}else e.value.push(`${r.name}: Invalid file type`);return s};return{validateFiles:t,validationErrors:e}}async function qe(e){const t=await e.slice(0,4).arrayBuffer(),s=new Uint8Array(t);return"image/png"!==e.type||137===s[0]&&80===s[1]&&78===s[2]&&71===s[3]}function ze(){const e=(0,n.KR)([]),t=(0,n.KR)(0),s=(0,n.KR)(!1),a=(0,n.KR)([]),r=async()=>{if(e.value.length)try{s.value=!0,t.value=0,a.value=[];const n=await S.getUploadSessionId();for(const s of e.value)try{const a=new FormData;a.append("file",s),a.append("sessionId",n),a.append("checksum",await Ge(s)),await S.uploadFile(a);const r=Math.round(100*(e.value.indexOf(s)+1)/e.value.length);t.value=r}catch(r){a.value.push(`Failed to upload ${s.name}: ${r.message||"Unknown error"}`)}e.value=[]}catch(r){throw a.value.push(`Upload failed: ${r.message||"Unknown error"}`),r}finally{s.value=!1}};return{uploadFiles:e,uploadProgress:t,isUploading:s,uploadErrors:a,upload:r}}async function Ge(e){const t=await e.arrayBuffer(),s=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(s)).map((e=>e.toString(16).padStart(2,"0"))).join("")}var Je=s(741);const Ye={class:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10"},et={class:"text-center"},tt={class:"mt-4 flex text-sm leading-6 text-gray-600"},st={class:"relative cursor-pointer rounded-md bg-white font-semibold text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500"},at=(0,r.Lk)("span",null,"Upload a file",-1),rt=(0,r.Lk)("p",{class:"pl-1"},"or drag and drop",-1),nt=(0,r.Lk)("p",{class:"text-xs leading-5 text-gray-600"},"Audio files only",-1);var ot=(0,r.pM)({__name:"FileDropZone",emits:["filesSelected"],setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",Ye,[(0,r.Lk)("div",et,[(0,r.bF)((0,n.R1)(Je.A),{class:"mx-auto h-12 w-12 text-gray-300","aria-hidden":"true"}),(0,r.Lk)("div",tt,[(0,r.Lk)("label",st,[at,(0,r.Lk)("input",{type:"file",class:"sr-only",multiple:"",accept:"audio/*",onChange:t[0]||(t[0]=t=>e.$emit("filesSelected",t))},null,32)]),rt]),nt])]))}});const lt=ot;var it=lt;const ct={key:0,class:"mt-4"};var dt=(0,r.pM)({__name:"FileValidationMessages",props:{errors:{}},setup(e){return(e,t)=>e.errors.length?((0,r.uX)(),(0,r.CE)("div",ct,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.errors,((e,t)=>((0,r.uX)(),(0,r.CE)("p",{key:t,class:"text-sm text-red-600"},(0,o.v_)(e),1)))),128))])):(0,r.Q3)("",!0)}});const ut=dt;var pt=ut;const mt={class:"border-b border-gray-900/10 pb-12"},gt={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},vt={class:"col-span-full"};var kt=(0,r.pM)({__name:"UploadFormUI",props:{isUploading:{type:Boolean}},emits:["files-selected","submit"],setup(e,{emit:t}){const s=(0,n.KR)([]),o=e=>{const t=e.target;t.files?.length&&l("files-selected",t.files)},l=t;return(e,t)=>((0,r.uX)(),(0,r.CE)("form",{onSubmit:t[0]||(t[0]=(0,a.D$)((t=>e.$emit("submit")),["prevent"])),class:"space-y-12"},[(0,r.Lk)("div",mt,[(0,r.Lk)("div",gt,[(0,r.Lk)("div",vt,[(0,r.bF)(it,{onFilesSelected:o}),(0,r.bF)(pt,{errors:s.value},null,8,["errors"])])])])],32))}});const ft=kt;var ht=ft;const yt={key:0,class:"mt-6"},xt={class:"overflow-hidden rounded-full bg-gray-200"},bt=(0,r.Lk)("div",{class:"mt-6 hidden grid-cols-4 text-sm font-medium text-gray-600 sm:grid"},[(0,r.Lk)("div",{class:"text-indigo-600"},"Copying files")],-1);var wt=(0,r.pM)({__name:"UploadProgress",props:{progress:{}},setup(e){return(e,t)=>e.progress>0?((0,r.uX)(),(0,r.CE)("div",yt,[(0,r.Lk)("div",xt,[(0,r.Lk)("div",{class:"h-2 rounded-full bg-indigo-600",style:(0,o.Tr)({width:e.progress+"%"})},null,4)]),bt])):(0,r.Q3)("",!0)}});const Lt=wt;var Ct=Lt;const _t={class:"space-y-12 mt-20 mb-8"};var St=(0,r.pM)({__name:"UploadFormContainer",setup(e){const{validateFiles:t}=Qe(),{uploadFiles:s,uploadProgress:a,isUploading:o,upload:l}=ze(),i=async e=>{const a=await t(Array.from(e));a.length>0&&(s.value=a)},c=async()=>{s.value.length&&await l()};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",_t,[(0,r.bF)(ht,{onFilesSelected:i,onSubmit:c,isUploading:(0,n.R1)(o)},null,8,["isUploading"]),(0,n.R1)(o)?((0,r.uX)(),(0,r.Wv)(Ct,{key:0,progress:(0,n.R1)(a)},null,8,["progress"])):(0,r.Q3)("",!0)]))}});const Et=St;var Ft=Et;function Rt(){const e=(0,n.KR)([]),t=(0,n.KR)(!1),s=(0,n.KR)(null),a=async()=>{t.value=!0,s.value=null;try{const t=await S.getPlaylists();console.log("Données reçues dans le store:",t),e.value=t.filter((e=>"playlist"===e.type)),console.log("Playlists après filtrage:",e.value)}catch(a){s.value="Erreur lors du chargement des playlists",console.error("Error loading playlists:",a)}finally{t.value=!1}},r=async(t,a)=>{try{await S.deleteFile(a);const s=e.value.find((e=>e.id===t));s&&(s.tracks=s.tracks.filter((e=>e.number!==a)))}catch(r){throw s.value="Erreur lors de la suppression du morceau",console.error("Error deleting track:",r),r}};return{playlists:e,isLoading:t,error:s,loadPlaylists:a,deleteTrack:r}}const At={class:"flex justify-between items-center mb-4"},Pt=(0,r.Lk)("h2",{class:"text-xl font-semibold text-white"},"Liste des fichiers audio",-1),Tt=(0,r.Lk)("div",{class:"text-sm text-gray-400"},null,-1),It=[Pt,Tt];function Mt(e,t){return(0,r.uX)(),(0,r.CE)("div",At,It)}const Ut={},Xt=(0,O.A)(Ut,[["render",Mt]]);var jt=Xt;const Dt={class:"mt-8 space-y-6"},$t={key:0,class:"text-red-600 text-center py-2"},Ot=["onClick"],Kt={class:"text-lg font-medium text-white"},Ht={class:"text-sm text-gray-400"},Bt={class:"text-gray-400"},Nt=(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),Vt=[Nt],Wt={class:"divide-y divide-gray-700 overflow-hidden"},Zt=["onClick"],Qt={class:"flex items-center space-x-3"},qt={class:"w-8 flex items-center justify-center"},zt={key:0,class:"text-cyan-400"},Gt={key:1,class:"h-5 w-5 text-cyan-400",viewBox:"0 0 20 20",fill:"currentColor"},Jt=(0,r.Lk)("path",{d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"},null,-1),Yt=[Jt],es={class:"text-white font-medium"},ts={class:"text-sm text-gray-400"},ss={class:"flex items-center space-x-4"},as={class:"text-cyan-400"},rs=["onClick"],ns=(0,r.Lk)("span",{class:"sr-only"},"Supprimer",-1),os=(0,r.Lk)("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),ls=[ns,os];var is=(0,r.pM)({__name:"FilesList",props:{playlists:{},error:{},selectedTrack:{}},emits:["deleteTrack","select-track"],setup(e){const t=(0,n.KR)([]);function s(e){const s=t.value.indexOf(e);-1===s?t.value.push(e):t.value.splice(s,1)}function l(e){const t=parseInt(e);if(isNaN(t))return"00:00";const s=Math.floor(t/60),a=t%60;return`${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}return(e,n)=>((0,r.uX)(),(0,r.CE)("div",Dt,[e.error?((0,r.uX)(),(0,r.CE)("div",$t,(0,o.v_)(e.error),1)):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.playlists,(n=>((0,r.uX)(),(0,r.CE)("div",{key:n.id,class:"bg-gray-800 rounded-lg overflow-hidden"},[(0,r.Lk)("div",{onClick:e=>s(n.id),class:"px-4 py-3 cursor-pointer hover:bg-gray-700 transition-colors flex justify-between items-center"},[(0,r.Lk)("div",null,[(0,r.Lk)("h3",Kt,(0,o.v_)(n.title),1),(0,r.Lk)("p",Ht,(0,o.v_)(n.tracks.length)+" morceaux • Dernière lecture: "+(0,o.v_)(new Date(n.last_played).toLocaleDateString()),1)]),(0,r.Lk)("div",Bt,[((0,r.uX)(),(0,r.CE)("svg",{class:(0,o.C4)(["w-6 h-6 transform transition-transform",{"rotate-180":t.value.includes(n.id)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Vt,2))])],8,Ot),(0,r.bF)(a.eB,{"enter-active-class":"transition-all duration-500 ease-out","leave-active-class":"transition-all duration-300 ease-in","enter-from-class":"max-h-0 opacity-0","enter-to-class":"max-h-[1000px] opacity-100","leave-from-class":"max-h-[1000px] opacity-100","leave-to-class":"max-h-0 opacity-0"},{default:(0,r.k6)((()=>[(0,r.bo)((0,r.Lk)("div",Wt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.tracks,(t=>((0,r.uX)(),(0,r.CE)("div",{key:t.number,onClick:s=>e.$emit("select-track",{track:t,playlist:n}),class:"px-4 py-3 flex items-center justify-between hover:bg-gray-700 cursor-pointer group"},[(0,r.Lk)("div",Qt,[(0,r.Lk)("div",qt,[e.selectedTrack?.number!==t.number?((0,r.uX)(),(0,r.CE)("span",zt,(0,o.v_)(t.number),1)):((0,r.uX)(),(0,r.CE)("svg",Gt,Yt))]),(0,r.Lk)("div",null,[(0,r.Lk)("p",es,(0,o.v_)(t.title),1),(0,r.Lk)("p",ts,(0,o.v_)(t.filename),1)])]),(0,r.Lk)("div",ss,[(0,r.Lk)("span",as,(0,o.v_)(l(t.duration)),1),(0,r.Lk)("button",{onClick:(0,a.D$)((s=>e.$emit("deleteTrack",{playlistId:n.id,trackNumber:t.number})),["stop"]),class:"text-gray-400 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100"},ls,8,rs)])],8,Zt)))),128))],512),[[a.aG,t.value.includes(n.id)]])])),_:2},1024)])))),128))]))}});const cs=is;var ds=cs,us=s(232),ps=s(491),ms=s(37);const gs=(0,r.Lk)("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),vs={class:"fixed inset-0 z-10 overflow-y-auto"},ks={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},fs={class:"sm:flex sm:items-start"},hs={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},ys={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},xs={class:"mt-2"},bs={class:"text-sm text-gray-500"},ws={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"};var Ls=(0,r.pM)({__name:"DeleteDialog",props:{open:{type:Boolean},track:{},playlist:{}},emits:["close","confirm"],setup(e,{emit:t}){const s=t,a=()=>{s("confirm")};return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,n.R1)(us.O),{as:"template",show:e.open},{default:(0,r.k6)((()=>[(0,r.bF)((0,n.R1)(ps.lG),{as:"div",class:"relative z-10",onClose:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,r.k6)((()=>[(0,r.bF)((0,n.R1)(us._),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,r.k6)((()=>[gs])),_:1}),(0,r.Lk)("div",vs,[(0,r.Lk)("div",ks,[(0,r.bF)((0,n.R1)(us._),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:(0,r.k6)((()=>[(0,r.bF)((0,n.R1)(ps.Lj),{class:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",fs,[(0,r.Lk)("div",hs,[(0,r.bF)((0,n.R1)(ms.A),{class:"h-6 w-6 text-red-600","aria-hidden":"true"})]),(0,r.Lk)("div",ys,[(0,r.bF)((0,n.R1)(ps.L3),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:(0,r.k6)((()=>[(0,r.eW)(" Supprimer le morceau ")])),_:1}),(0,r.Lk)("div",xs,[(0,r.Lk)("p",bs,' Êtes-vous sûr de vouloir supprimer le morceau "'+(0,o.v_)(e.track?.title||"sans titre")+'" de la playlist "'+(0,o.v_)(e.playlist?.title||"sans nom")+'" ? Cette action ne peut pas être annulée. ',1)])])]),(0,r.Lk)("div",ws,[(0,r.Lk)("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:a},"Supprimer"),(0,r.Lk)("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:t[0]||(t[0]=t=>e.$emit("close")),ref:"cancelButtonRef"},"Annuler",512)])])),_:1})])),_:1})])])])),_:1})])),_:1},8,["show"]))}});const Cs=Ls;var _s=Cs;const Ss={key:0,class:"text-gray-600"},Es={key:1,class:"text-red-600"};var Fs=(0,r.pM)({__name:"FileListContainer",props:{selectedTrack:{}},emits:["select-track"],setup(e,{emit:t}){const s=e,a=(0,n.KR)(s.selectedTrack||null),l=t,{playlists:i,isLoading:c,error:d,loadPlaylists:u,deleteTrack:p}=Rt(),m=(0,n.KR)(!1),g=(0,n.KR)(null),v=()=>{m.value=!1,g.value=null},k=e=>{l("select-track",e)},f=({playlistId:e,trackNumber:t})=>{const s=i.value.find((t=>t.id===e));if(!s)return;const a=s.tracks.find((e=>e.number===t));a&&(g.value=s,m.value=!0)},h=async()=>{if(a.value&&g.value)try{await p(g.value.id,a.value.number),v()}catch(e){}};return(0,r.sV)(u),(e,t)=>((0,r.uX)(),(0,r.CE)("div",null,[(0,n.R1)(c)?((0,r.uX)(),(0,r.CE)("div",Ss,"Chargement...")):(0,r.Q3)("",!0),(0,n.R1)(d)?((0,r.uX)(),(0,r.CE)("div",Es,(0,o.v_)((0,n.R1)(d)),1)):(0,r.Q3)("",!0),(0,n.R1)(c)||(0,n.R1)(d)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)(r.FK,{key:2},[(0,r.bF)(jt),(0,r.bF)(ds,{playlists:(0,n.R1)(i),selectedTrack:e.selectedTrack,onDeleteTrack:f,onSelectTrack:k},null,8,["playlists","selectedTrack"]),(0,r.bF)(_s,{open:m.value,track:a.value,playlist:g.value,onClose:v,onConfirm:h},null,8,["open","track","playlist"])],64))]))}});const Rs=Fs;var As=Rs;const Ps={class:"space-y-6"},Ts=(0,r.Lk)("h3",{class:"text-base font-semibold leading-6 text-gray-900"},"Informations Générales",-1),Is={class:"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3"},Ms={class:"truncate text-sm font-medium text-gray-500"},Us={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},Xs={class:"flex items-center justify-between"},js=(0,r.Lk)("h3",{class:"text-base font-semibold leading-6 text-gray-900"},"État du Système",-1),Ds={key:0,class:"mt-4 p-4 bg-yellow-50 text-yellow-700 rounded"},$s={class:"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3"},Os={class:"flex items-center justify-between p-4 border-b border-gray-200"},Ks={class:"text-sm font-medium text-gray-900 capitalize"},Hs={class:"p-4"},Bs={class:"text-xs text-gray-500"};var Ns={__name:"StatsInfo",setup(e){const t=(0,n.KR)([{name:"baterie",stat:"71%"},{name:"nombre de musique",stat:"12"},{name:"espace libre",stat:"24%"}]),s=(0,n.KR)(null),a=(0,n.KR)(null),l=(0,r.EW)((()=>s.value?.components&&Object.keys(s.value.components).length>0)),i=e=>{const t={ready:"bg-green-100 text-green-800",disabled:"bg-gray-100 text-gray-800",error:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800"};return t[e]||"bg-gray-100 text-gray-800"},c=e=>new Date(1e3*e).toLocaleString(),d=async()=>{try{console.log("Fetching health status...");const e=await S.checkHealth();console.log("Health status response:",e),e.components||console.warn("No components found in health response"),s.value=e}catch(e){console.error("Erreur lors de la vérification de santé:",e)}};return(0,r.sV)((()=>{console.log("StatsInfo component mounted"),d(),a.value=setInterval(d,3e4)})),(0,r.hi)((()=>{a.value&&clearInterval(a.value)})),(e,a)=>((0,r.uX)(),(0,r.CE)("div",Ps,[(0,r.Lk)("div",null,[Ts,(0,r.Lk)("dl",Is,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.value,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.name,class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},[(0,r.Lk)("dt",Ms,(0,o.v_)(e.name),1),(0,r.Lk)("dd",Us,(0,o.v_)(e.stat),1)])))),128))])]),(0,r.Lk)("div",null,[(0,r.Lk)("div",Xs,[js,(0,r.Lk)("span",{class:(0,o.C4)(["px-2 py-1 text-xs font-medium rounded-full","healthy"===s.value?.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},(0,o.v_)(s.value?.status||"unknown"),3)]),l.value?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Ds," Aucun composant trouvé dans les données de santé du système ")),(0,r.Lk)("div",$s,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.value?.components,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"flex flex-col rounded-lg bg-white shadow"},[(0,r.Lk)("div",Os,[(0,r.Lk)("h4",Ks,(0,o.v_)(t),1),(0,r.Lk)("span",{class:(0,o.C4)(["px-2 py-1 text-xs font-medium rounded-full",i(e.status)])},(0,o.v_)(e.status),3)]),(0,r.Lk)("div",Hs,[(0,r.Lk)("p",Bs," Dernière mise à jour: "+(0,o.v_)(c(e.timestamp)),1)])])))),128))])])]))}};const Vs=Ns;var Ws=Vs;const Zs={class:"pt-12"},Qs={class:"mx-auto max-w-7xl px-4 pb-12 sm:px-6 lg:px-8"},qs={class:"rounded-lg bg-white px-5 py-6 shadow sm:px-6"},zs={class:"app-container"},Gs={key:0,class:"mt-4"},Js=(0,r.Lk)("h4",{class:"sr-only"},"Status",-1),Ys=(0,r.Lk)("p",{class:"text-sm font-medium text-gray-900"},"Ajout du fichier sur le serveur...",-1),ea={class:"mt-6","aria-hidden":"true"},ta={class:"overflow-hidden rounded-full bg-gray-200"},sa=(0,r.Lk)("div",{class:"mt-6 hidden grid-cols-4 text-sm font-medium text-gray-600 sm:grid"},[(0,r.Lk)("div",{class:"text-indigo-600"},"Copie des fichiers")],-1);var aa=(0,r.pM)({__name:"HomePage",setup(e){const t=(0,n.KR)(0),s=(0,n.KR)(null),a=(0,n.KR)(null),l=e=>{s.value=e.track,a.value=e.playlist};return(e,n)=>((0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("main",Zs,[(0,r.Lk)("div",Qs,[(0,r.Lk)("div",qs,[(0,r.Lk)("div",zs,[(0,r.bF)(Ve,{selectedTrack:s.value,playlist:a.value},null,8,["selectedTrack","playlist"])]),t.value>0?((0,r.uX)(),(0,r.CE)("div",Gs,[Js,Ys,(0,r.Lk)("div",ea,[(0,r.Lk)("div",ta,[(0,r.Lk)("div",{class:"h-2 rounded-full bg-indigo-600",style:(0,o.Tr)({width:t.value+"%"})},null,4)]),sa])])):(0,r.Q3)("",!0),(0,r.bF)(Ft),(0,r.bF)(As,{selectedTrack:s.value,onSelectTrack:l},null,8,["selectedTrack"]),(0,r.bF)(Ws)])])])]))}});const ra=aa;var na=ra;const oa={class:"about"},la=(0,r.Lk)("h1",null,"This is an about page",-1),ia=[la];function ca(e,t){return(0,r.uX)(),(0,r.CE)("div",oa,ia)}const da={},ua=(0,O.A)(da,[["render",ca]]);var pa=ua,ma=s(477),ga=s(936),va=s(48);const ka={class:"contact"},fa={class:"relative isolate bg-white"},ha={class:"mx-auto grid max-w-7xl grid-cols-1 lg:grid-cols-2"},ya={class:"relative px-6 pb-20 pt-24 sm:pt-32 lg:static lg:px-8 lg:py-48"},xa={class:"mx-auto max-w-xl lg:mx-0 lg:max-w-lg"},ba=(0,r.Fv)('<div class="absolute inset-y-0 left-0 -z-10 w-full overflow-hidden bg-gray-100 ring-1 ring-gray-900/10 lg:w-1/2"><svg class="absolute inset-0 h-full w-full stroke-gray-200 [mask-image:radial-gradient(100%_100%_at_top_right,white,transparent)]" aria-hidden="true"><defs><pattern id="83fd4e5a-9d52-42fc-97b6-718e5d7ee527" width="200" height="200" x="100%" y="-1" patternUnits="userSpaceOnUse"><path d="M130 200V.5M.5 .5H200" fill="none"></path></pattern></defs><rect width="100%" height="100%" stroke-width="0" fill="white"></rect><svg x="100%" y="-1" class="overflow-visible fill-gray-50"><path d="M-470.5 0h201v201h-201Z" stroke-width="0"></path></svg><rect width="100%" height="100%" stroke-width="0" fill="url(#83fd4e5a-9d52-42fc-97b6-718e5d7ee527)"></rect></svg></div><h2 class="text-3xl font-bold tracking-tight text-gray-900"> Get in touch </h2><p class="mt-6 text-lg leading-8 text-gray-600"> Proin volutpat consequat porttitor cras nullam gravida at. Orci molestie a eu arcu. Sed ut tincidunt integer elementum id sem. Arcu sed malesuada et magna. </p>',3),wa={class:"mt-10 space-y-4 text-base leading-7 text-gray-600"},La={class:"flex gap-x-4"},Ca={class:"flex-none"},_a=(0,r.Lk)("span",{class:"sr-only"},"Address",-1),Sa=(0,r.Lk)("dd",null,[(0,r.eW)("545 Mavis Island"),(0,r.Lk)("br"),(0,r.eW)("Chicago, IL 99191")],-1),Ea={class:"flex gap-x-4"},Fa={class:"flex-none"},Ra=(0,r.Lk)("span",{class:"sr-only"},"Telephone",-1),Aa=(0,r.Lk)("dd",null,[(0,r.Lk)("a",{class:"hover:text-gray-900",href:"tel:+1 (555) 234-5678"},"+1 (555) 234-5678")],-1),Pa={class:"flex gap-x-4"},Ta={class:"flex-none"},Ia=(0,r.Lk)("span",{class:"sr-only"},"Email",-1),Ma=(0,r.Lk)("dd",null,[(0,r.Lk)("a",{class:"hover:text-gray-900",href:"mailto:hello@example.com"},"hello@example.com")],-1),Ua=(0,r.Lk)("form",{action:"#",method:"POST",class:"px-6 pb-24 pt-20 sm:pb-32 lg:px-8 lg:py-48"},[(0,r.Lk)("div",{class:"mx-auto max-w-xl lg:mr-0 lg:max-w-lg"},[(0,r.Lk)("div",{class:"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2"},[(0,r.Lk)("div",null,[(0,r.Lk)("label",{for:"first-name",class:"block text-sm font-semibold leading-6 text-gray-900"},"First name"),(0,r.Lk)("div",{class:"mt-2.5"},[(0,r.Lk)("input",{type:"text",name:"first-name",id:"first-name",autocomplete:"given-name",class:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})])]),(0,r.Lk)("div",null,[(0,r.Lk)("label",{for:"last-name",class:"block text-sm font-semibold leading-6 text-gray-900"},"Last name"),(0,r.Lk)("div",{class:"mt-2.5"},[(0,r.Lk)("input",{type:"text",name:"last-name",id:"last-name",autocomplete:"family-name",class:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})])]),(0,r.Lk)("div",{class:"sm:col-span-2"},[(0,r.Lk)("label",{for:"email",class:"block text-sm font-semibold leading-6 text-gray-900"},"Email"),(0,r.Lk)("div",{class:"mt-2.5"},[(0,r.Lk)("input",{type:"email",name:"email",id:"email",autocomplete:"email",class:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})])]),(0,r.Lk)("div",{class:"sm:col-span-2"},[(0,r.Lk)("label",{for:"phone-number",class:"block text-sm font-semibold leading-6 text-gray-900"},"Phone number"),(0,r.Lk)("div",{class:"mt-2.5"},[(0,r.Lk)("input",{type:"tel",name:"phone-number",id:"phone-number",autocomplete:"tel",class:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})])]),(0,r.Lk)("div",{class:"sm:col-span-2"},[(0,r.Lk)("label",{for:"message",class:"block text-sm font-semibold leading-6 text-gray-900"},"Message"),(0,r.Lk)("div",{class:"mt-2.5"},[(0,r.Lk)("textarea",{name:"message",id:"message",rows:"4",class:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})])])]),(0,r.Lk)("div",{class:"mt-8 flex justify-end"},[(0,r.Lk)("button",{type:"submit",class:"rounded-md bg-indigo-600 px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Send message ")])])],-1);var Xa={__name:"ContactPage",setup(e){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",ka,[(0,r.Lk)("div",fa,[(0,r.Lk)("div",ha,[(0,r.Lk)("div",ya,[(0,r.Lk)("div",xa,[ba,(0,r.Lk)("dl",wa,[(0,r.Lk)("div",La,[(0,r.Lk)("dt",Ca,[_a,(0,r.bF)((0,n.R1)(ma.A),{class:"h-7 w-6 text-gray-400","aria-hidden":"true"})]),Sa]),(0,r.Lk)("div",Ea,[(0,r.Lk)("dt",Fa,[Ra,(0,r.bF)((0,n.R1)(ga.A),{class:"h-7 w-6 text-gray-400","aria-hidden":"true"})]),Aa]),(0,r.Lk)("div",Pa,[(0,r.Lk)("dt",Ta,[Ia,(0,r.bF)((0,n.R1)(va.A),{class:"h-7 w-6 text-gray-400","aria-hidden":"true"})]),Ma])])])]),Ua])])]))}};const ja=Xa;var Da=ja;const $a=[{path:"/",name:"Home",component:na},{path:"/about",name:"About",component:pa},{path:"/contact",name:"Contact",component:Da}],Oa=(0,Y.aE)({history:(0,Y.LA)("/"),routes:$a});var Ka=Oa;class Ha{listeners=new Map;isConnected=!1;setupSocketConnection(){setTimeout((()=>{this.isConnected=!0,this.emit("connect",{}),console.log("Mock socket connected")}),500)}emit(e,t){this.isConnected||"connect"===e?(console.log(`Mock socket emitting: ${e}`,t),setTimeout((()=>{switch(e){case"audio_map_update":this.handleAudioMapUpdate(t);break;case"message":this.triggerEvent("response",{status:"success",message:`Mock response to: ${t}`,timestamp:(new Date).toISOString()});break}}),300)):console.warn("Socket not connected")}on(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e)?.push(t),console.log(`Mock socket listening for: ${e}`)}triggerEvent(e,t){const s=this.listeners.get(e)||[];s.forEach((e=>e(t)))}handleAudioMapUpdate(e){const t={files:Array.isArray(e)?e:[e],timestamp:(new Date).toISOString(),status:"success"};this.triggerEvent("audio_map_response",t)}}var Ba=new Ha,Na=s(373);class Va{socket;constructor(){this.socket=(0,Na.io)("http://localhost:5001",{transports:["websocket"],autoConnect:!1,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5}),this.setupBaseHandlers()}setupBaseHandlers(){this.socket.on("connect",(()=>{console.log("Socket connected successfully",this.socket.id)})),this.socket.on("connect_error",(e=>{console.error("Connection error:",e)})),this.socket.on("disconnect",(e=>{console.log("Socket disconnected:",e)})),this.socket.on("reconnect",(e=>{console.log("Socket reconnected after",e,"attempts")})),this.socket.on("error",(e=>{console.error("Socket error:",e)}))}setupSocketConnection(){this.socket.connected||this.socket.connect()}emit(e,t){this.socket.connected?this.socket.emit(e,t):console.warn("Attempting to emit while socket is not connected:",e)}on(e,t){this.socket.on(e,t)}off(e){this.socket.off(e)}disconnect(){this.socket.connected&&this.socket.disconnect()}isConnected(){return this.socket.connected}getSocketId(){return this.socket.id||null}reconnect(){this.socket.disconnect().connect()}}var Wa=new Va;const Za="true"==={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_USE_MOCK||!0;class Qa{service;constructor(){this.service=Za?Ba:Wa,console.log(`Using ${Za?"mock":"real"} socket service`)}setupSocketConnection(){try{this.service.setupSocketConnection()}catch(e){console.error("Error setting up socket connection:",e)}}emit(e,t){try{this.service.emit(e,t)}catch(s){console.error("Error emitting event:",e,s)}}on(e,t){try{this.service.on(e,t)}catch(s){console.error("Error setting up event listener:",e,s)}}disconnect(){this.service.disconnect&&this.service.disconnect()}}var qa=new Qa;const za=(0,a.Ef)(G);qa.setupSocketConnection(),za.config.globalProperties.$socketService=qa,za.use(Ka).mount("#app")}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,a,r,n){if(!a){var o=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],n=e[d][2];for(var l=!0,i=0;i<a.length;i++)(!1&n||o>=n)&&Object.keys(s.O).every((function(e){return s.O[e](a[i])}))?a.splice(i--,1):(l=!1,n<o&&(o=n));if(l){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,r,n]}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,o=a[0],l=a[1],i=a[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(i)var d=i(s)}for(t&&t(a);c<o.length;c++)n=o[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},a=self["webpackChunkthemusicbox"]=self["webpackChunkthemusicbox"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(22)}));a=s.O(a)})();
//# sourceMappingURL=app.93d7b9c6.js.map